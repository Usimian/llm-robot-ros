# Gemini Code Companion Context

This document provides a comprehensive overview of the `llm-robot-ros` project, designed to facilitate understanding and interaction with the codebase for Gemini.

## Project Overview

This project is a ROS 2 package that enables controlling a simulated Summit XL robot using a Large Language Model (LLM) through the ROSA framework. The robot operates in a simulated environment based on the AWS Robomaker Small House World.

The core components of the project are:

*   **`rosa_summit` package:** The main ROS 2 package containing the LLM agent, tools, and launch files.
*   **`icclab_summit_xl`:** A submodule providing the robot simulation and Nav2 integration.
*   **Gazebo Simulation:** The robot is simulated in the Gazebo environment, using a modified version of the AWS Robomaker Small House World.
*   **LLM Integration:** The robot is controlled by an LLM (either a local Ollama instance or Anthropic's Claude 3.5 Sonnet) through the ROSA framework. The LLM can execute a set of predefined actions to control the robot's movement, navigation, and mapping.

## Building and Running

### Docker (Recommended)

1.  **Build the Docker image:**
    ```bash
    docker build -t llm-robot-ros:latest .
    ```

2.  **Run the container:**
    ```bash
    ./start.sh
    ```

3.  **Run the LLM agent:**
    ```bash
    ./start_LLM.sh
    ```

### Manual Setup

1.  **Initialize the environment:**
    ```bash
    source init.sh
    ```

2.  **Launch the simulation:**
    *   With SLAM (for mapping):
        ```bash
        ros2 launch rosa_summit summit.launch.py slam:=True
        ```
    *   With a pre-existing map:
        ```bash
        ros2 launch rosa_summit summit.launch.py slam:=False
        ```

3.  **Run the LLM Agent:**
    In a new terminal, run:
    ```bash
    ros2 run rosa_summit rosa_summit
    ```

## Development Conventions

*   The project follows the standard ROS 2 `ament_python` conventions.
*   The main entry point for the LLM agent is `rosa_summit/rosa_summit.py`.
*   The available LLM actions are defined as tools in `rosa_summit/rosa_summit.py`.
*   The `README.md` file provides detailed instructions for setup and usage.

## Available LLM Actions

The LLM can control the robot using the following actions:

*   **`send_vel(velocity: float)`**: Sets the forward velocity of the robot.
*   **`stop()`**: Stops the robot.
*   **`toggle_auto_exploration(resume_exploration: bool)`**: Starts or stops autonomous exploration.
*   **`navigate_to_pose(x: float, y: float, z_orientation: float, w_orientation: float)`**: Moves the robot to an absolute position on the map.
*   **`navigate_relative(x: float, y: float, z_orientation: float, w_orientation: float)`**: Moves the robot relative to its current position.
*   **`save_map(map_name: str)`**: Saves the current map generated by SLAM.
*   **`list_saved_maps()`**: Lists all previously saved maps.
*   **`get_location_names()`**: Returns a list of predefined location names.
*   **`navigate_to_location_by_name(location_name: str)`**: Moves the robot to a predefined named location.
